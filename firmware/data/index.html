<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" type="image/svg+xml" href="/icon.svg">
  <meta name="theme-color" content="#0e0e0e">
  <title>QBIT Dashboard</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>

  <div class="header">
    <div class="header-brand">
      <span class="brand-accent">Q</span><span class="brand-text">BIT</span>
      <span class="brand-sep"></span>
      <span class="brand-sub">Dashboard</span>
    </div>
    <button class="theme-toggle" id="themeBtn" aria-label="Toggle theme">&#9790;</button>
  </div>

  <div class="card">
    <div class="card-title">Storage</div>
    <div class="storage-info">
      <span class="storage-label"><span id="sU">--</span> / <span id="sT">--</span></span>
      <span class="storage-pct"><span id="sP">0</span>%</span>
    </div>
    <div class="storage-bar"><div class="storage-fill" id="sF" style="width:0%"></div></div>
  </div>

  <div class="card">
    <div class="card-title">Upload</div>
    <div class="upload-area" id="dz" onclick="document.getElementById('fi').click()">
      <input type="file" id="fi" accept=".qgif" multiple>
      <span class="upload-icon">&#8682;</span>
      Drop .qgif files here or tap to upload
    </div>
    <div class="msg" id="msg"></div>
  </div>

  <div class="card">
    <div class="card-title">Device</div>
    <div class="setting">
      <label class="setting-label">ID</label>
      <span class="setting-val-wide" id="devId">--</span>
    </div>
    <div class="setting">
      <label class="setting-label">Name</label>
      <input type="text" id="devName" class="input-text" maxlength="32" placeholder="Device name">
    </div>
    <button class="btn btn-save" id="btnDevSave">Save Name</button>
  </div>

  <div class="card">
    <div class="card-title">MQTT</div>
    <div class="setting">
      <label class="setting-label">Enabled</label>
      <button class="btn btn-mute" id="btnMqtt">OFF</button>
    </div>
    <div class="setting">
      <label class="setting-label">Host</label>
      <input type="text" id="mqttHost" class="input-text" placeholder="192.168.1.x">
    </div>
    <div class="setting">
      <label class="setting-label">Port</label>
      <input type="number" id="mqttPort" class="input-text" value="1883" min="1" max="65535" style="width:80px;flex:none">
    </div>
    <div class="setting">
      <label class="setting-label">User</label>
      <input type="text" id="mqttUser" class="input-text" placeholder="(optional)">
    </div>
    <div class="setting">
      <label class="setting-label">Password</label>
      <input type="password" id="mqttPass" class="input-text" placeholder="(optional)">
    </div>
    <div class="setting">
      <label class="setting-label">Prefix</label>
      <input type="text" id="mqttPrefix" class="input-text" value="qbit" placeholder="qbit">
    </div>
    <div class="mqtt-hint">
      Topics: <code>&lt;prefix&gt;/&lt;id&gt;/status</code>, <code>.../info</code>, <code>.../command</code>
    </div>
    <button class="btn btn-save" id="btnMqttSave">Save MQTT</button>
  </div>

  <div class="card">
    <div class="card-title">Settings</div>
    <div class="setting">
      <label class="setting-label">Speed</label>
      <input type="range" id="rSpeed" min="1" max="10" value="1" class="slider">
      <span class="setting-val" id="vSpeed">1</span>
    </div>
    <div class="setting">
      <label class="setting-label">Brightness</label>
      <input type="range" id="rBright" min="0" max="255" value="207" class="slider">
      <span class="setting-val" id="vBright">207</span>
    </div>
    <div class="setting">
      <label class="setting-label">Sound</label>
      <button class="btn btn-mute" id="btnMute">ON</button>
    </div>
    <button class="btn btn-save" id="btnSave">Save</button>
  </div>

  <div class="card" id="fl">
    <div class="card-title">Files</div>
    <div class="empty">Loading...</div>
  </div>


  <script src="/script.js"></script>
</body>
</html>
